(()=>{"use strict";const a=require("express");var e=a.Router();e.get("/",(function(a,e){return e.send("Hello World!, ini adalah API Kelompok 5 LAGOS!")})),e.get("/kecepatan",(function(a,e){var t=a.query,n=t.s,r=t.t;if(n&&r){if(isNaN(n)||isNaN(r))return e.status(400).json({ERROR:"Inputan/parameter harus berupa angka"});var s=parseInt(n)/parseInt(r);return e.json({kecepatan:"jarak(s) m / waktu(t) detik",Hasil:"".concat(s," m/s")})}return e.status(400).json({ERROR:"Parameter kosong / tidak lengkap"})}));var t=65e-6;e.get("/rupiahToDollar",(function(a,e){var n=a.query.rupiah;if(n){if(isNaN(n))return e.status(400).json({ERROR:"Inputan/parameter harus berupa angka"});var r=parseInt(n)*t;return e.json({konversi:"rupiah -> dollar",Hasil:"Rp.".concat(n," = $").concat(r.toFixed(2))})}return e.status(400).json({ERROR:"Tidak ada parameter yang diberikan"})})),e.get("/dollarToRupiah",(function(a,e){var n=a.query.dollar;if(n){if(isNaN(n))return e.status(400).json({ERROR:"Inputan/parameter harus berupa angka"});var r=parseInt(n)/t;return e.json({konversi:"dollar -> rupiah",Hasil:"$".concat(n," = Rp.").concat(r.toFixed(2))})}return e.status(400).json({ERROR:"Tidak ada parameter yang diberikan"})}));var n=function(a){return a<18.5?"Berat badan kurang":a>=18.5&&a<=24.9?"Berat badan normal":"Berat badan lebih"};e.get("/beratBadan",(function(a,e){var t=a.query,r=t.gender,s=t.tinggi,u=t.berat;if(!(r&&s&&u))return e.status(400).json({ERROR:"Parameter kosong / tidak lengkap"});if(isNaN(s)||isNaN(u))return e.status(400).json({ERROR:"berat & tinggi badan harus berupa angka"});if("laki-laki"===r){var i=parseInt(s)-100-.1*(parseInt(s)-100),o=parseInt(s)/100,l=parseInt(u)/(o*o),p=n(l);return e.json({Gender:"laki-laki","Berat Badan Ideal":"".concat(i," kg"),BMI:l,Status:p})}if("perempuan"===r){var g=parseInt(s)-100-.15*(parseInt(s)-100),d=parseInt(s)/100,c=parseInt(u)/(d*d),k=n(c);return e.json({Gender:"perempuan","Berat Badan Ideal":"".concat(g," kg"),BMI:c,Status:k})}})),e.get("/umur",(function(a,e){var t=a.query,n=t.thn,r=t.bln,s=t.tgl,u=(new Date).getFullYear();if(n&&r&&s){if(isNaN(n)||isNaN(r)||isNaN(s))return e.status(400).json({ERROR:"Inputan/parameter harus berupa angka"});if(r<1||r>12||s<1||s>31||n>u)return e.status(400).json({ERROR:"Inputan/parameter tidak valid"});var i=new Date,o=new Date(n,r-1,s),l=i.getFullYear()-o.getFullYear(),p=i.getMonth()-o.getMonth();return(p<0||0===p&&i.getDate()<o.getDate())&&l--,e.json({"Tanggal Lahir":"".concat(n,"-").concat(r,"-").concat(s),Umur:"".concat(l," tahun")})}return e.status(400).json({ERROR:"Parameter kosong / tidak lengkap"})})),e.post("/calculate-calories",(function(a,e){var t=a.body,n=t.name,r=t.gender,s=t.weight,u=t.height,i=t.age,o=t.activity;if(!(n&&r&&s&&u&&i&&o))return e.status(400).json({message:"All fields are required: name,gender, weight, height, age, activity"});var l=parseFloat(o);if(isNaN(l)||l<1.2||l>1.9)return e.status(400).json({message:"Activity must be a number between 1.2 and 1.9"});var p,g=parseInt(s),d=parseInt(u),c=parseInt(i);if("male"===r)p=(66.5+13.75*g+5.003*d-6.75*c)*l;else{if("female"!==r)return e.status(400).json({message:'Invalid gender. Must be "male" or "female".'});p=(655.1+9.563*g+1.85*d-4.676*c)*l}return e.json({name:n,dailyCalories:p.toFixed(2)})})),e.post("/kalkulasipinjaman",(function(a,e){var t=a.body,n=t.jumlahPinjaman,r=t.bungaPertahun,s=t.jangkaWaktu;if(n<=0||r<=0||s<=0)return e.status(400).json({error:"Input values must be greater than zero"});var u=r/100/12,i=12*s,o=n*u/(1-Math.pow(1+u,-i));return e.json({jumlahPinjaman:n,bungaPertahun:r,jangkaWaktu:s,biayaPerbulan:o.toFixed(2)})}));const r=e;var s=a();s.use(a.json()),s.use(a.urlencoded({extended:!1})),s.use("/",r),s.listen(3e3,(function(){console.log("Example app listening at http://localhost:".concat(3e3))}))})();